{% extends 'base.html' %}
{% block title %}Configuraciones API{% endblock %}

{% block content %}
<style>
  .custom-card {
    border-radius: 1rem;
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
    background: linear-gradient(135deg, #fff 0%, #f1f3f5 100%);
    border: none;
  }
  .custom-card-header {
    background: linear-gradient(45deg, #4b555e, #8b99a7);
    color: #fff;
    font-weight: 600;
    font-size: 1.2rem;
    padding: 0.75rem 1.2rem;
    border-top-left-radius: 1rem;
    border-top-right-radius: 1rem;
  }
  .custom-card-body {
    padding: 1.2rem;
  }
  .table-sm td, .table-sm th {
    padding: 0.3rem 0.5rem !important;
    font-size: 0.88rem;
  }
  .btn-editar {
    background-color: #4a90e2;
    color: white;
    border: none;
  }
  .btn-editar:hover {
    background-color: #357ab7;
    color: white;
  }
  .btn-eliminar {
    background-color: #6f42c1;
    color: white;
    border: none;
  }
  .btn-eliminar:hover {
    background-color: #5936a2;
    color: white;
  }
  .valor-max-width {
    max-width: 250px;
  }
</style>

<div class="container mt-4">
  <div class="card custom-card">
    <div class="custom-card-header">
      üì¶ Configuraciones API
    </div>
    <div class="custom-card-body">
      <a href="{% url 'crear_configuracion' %}" class="btn btn-sm btn-primary mb-3">‚ûï Nueva configuraci√≥n</a>
      <div class="table-responsive">
        <table class="table table-sm table-bordered table-hover align-middle">
          <thead class="table-dark text-center">
            <tr>
              <th>Entorno</th>
              <th>Nombre</th>
              <th>Valor</th>
              <th>Activo</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            {% for config in configuraciones %}
              <tr>
                <td>{{ config.entorno }}</td>
                <td>{{ config.nombre }}</td>
                <td class="text-truncate valor-max-width">{{ config.valor|truncatechars:80 }}</td>
                <td class="text-center">{{ config.activo|yesno:"‚úÖ,‚ùå" }}</td>
                <td class="text-center">
                  <a href="{% url 'editar_configuracion' config.pk %}" class="btn btn-sm btn-editar">‚úèÔ∏è</a>
                  <a href="{% url 'eliminar_configuracion' config.pk %}" class="btn btn-sm btn-eliminar">üóë</a>
                </td>
              </tr>
            {% empty %}
              <tr><td colspan="5" class="text-center">No hay configuraciones registradas.</td></tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% endblock %}
