ERROR 2025-04-23 17:47:06,056 middleware Error en /app/gpt/transfer/initiate/: expected string or bytes-like object, got 'NoneType'
Traceback (most recent call last):
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/views/decorators/http.py", line 64, in inner
    return func(request, *args, **kwargs)
  File "/home/markmur88/Documentos/GitHub/api_bank_heroku/api/gpt/views.py", line 149, in initiate_sepa_transfer
    validation_errors = validate_headers(headers)
  File "/home/markmur88/Documentos/GitHub/api_bank_heroku/api/gpt/views.py", line 36, in validate_headers
    if 'idempotency-id' not in headers or not re.match(r'^[a-f0-9\-]{36}$', headers.get('idempotency-id', '')):
                                              ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/re/__init__.py", line 167, in match
    return _compile(pattern, flags).match(string)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
TypeError: expected string or bytes-like object, got 'NoneType'
ERROR 2025-04-23 17:47:06,123 log Internal Server Error: /app/gpt/transfer/initiate/
Traceback (most recent call last):
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/views/decorators/http.py", line 64, in inner
    return func(request, *args, **kwargs)
  File "/home/markmur88/Documentos/GitHub/api_bank_heroku/api/gpt/views.py", line 149, in initiate_sepa_transfer
    validation_errors = validate_headers(headers)
  File "/home/markmur88/Documentos/GitHub/api_bank_heroku/api/gpt/views.py", line 36, in validate_headers
    if 'idempotency-id' not in headers or not re.match(r'^[a-f0-9\-]{36}$', headers.get('idempotency-id', '')):
                                              ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.13/re/__init__.py", line 167, in match
    return _compile(pattern, flags).match(string)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
TypeError: expected string or bytes-like object, got 'NoneType'
WARNING 2025-04-23 17:47:06,263 log Not Found: /favicon.ico
WARNING 2025-04-23 20:36:49,362 log Not Found: /favicon.ico
ERROR 2025-04-23 20:37:58,992 middleware Error en /app/gpt/transfer/initiate/: object of type 'NoneType' has no len()
Traceback (most recent call last):
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/views/decorators/http.py", line 64, in inner
    return func(request, *args, **kwargs)
  File "/home/markmur88/Documentos/GitHub/api_bank_heroku/api/gpt/views.py", line 152, in initiate_sepa_transfer
    validation_errors = validate_headers(headers)
  File "/home/markmur88/Documentos/GitHub/api_bank_heroku/api/gpt/views.py", line 43, in validate_headers
    if 'Correlation-Id' in headers and len(headers['Correlation-Id']) > 50:
                                       ~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
ERROR 2025-04-23 20:37:59,085 log Internal Server Error: /app/gpt/transfer/initiate/
Traceback (most recent call last):
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/views/decorators/http.py", line 64, in inner
    return func(request, *args, **kwargs)
  File "/home/markmur88/Documentos/GitHub/api_bank_heroku/api/gpt/views.py", line 152, in initiate_sepa_transfer
    validation_errors = validate_headers(headers)
  File "/home/markmur88/Documentos/GitHub/api_bank_heroku/api/gpt/views.py", line 43, in validate_headers
    if 'Correlation-Id' in headers and len(headers['Correlation-Id']) > 50:
                                       ~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
WARNING 2025-04-23 20:37:59,204 log Not Found: /favicon.ico
ERROR 2025-04-23 22:44:26,256 middleware Error en /app/gpt/transfer/initiate/: object of type 'NoneType' has no len()
Traceback (most recent call last):
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/views/decorators/http.py", line 64, in inner
    return func(request, *args, **kwargs)
  File "/home/markmur88/Documentos/GitHub/api_bank_heroku/api/gpt/views.py", line 175, in initiate_sepa_transfer
    validation_errors = validate_headers(headers)
  File "/home/markmur88/Documentos/GitHub/api_bank_heroku/api/gpt/views.py", line 50, in validate_headers
    if 'Correlation-Id' in headers and len(headers['Correlation-Id']) > 50:
                                       ~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
ERROR 2025-04-23 22:44:26,614 log Internal Server Error: /app/gpt/transfer/initiate/
Traceback (most recent call last):
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/views/decorators/http.py", line 64, in inner
    return func(request, *args, **kwargs)
  File "/home/markmur88/Documentos/GitHub/api_bank_heroku/api/gpt/views.py", line 175, in initiate_sepa_transfer
    validation_errors = validate_headers(headers)
  File "/home/markmur88/Documentos/GitHub/api_bank_heroku/api/gpt/views.py", line 50, in validate_headers
    if 'Correlation-Id' in headers and len(headers['Correlation-Id']) > 50:
                                       ~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
WARNING 2025-04-23 22:44:26,684 log Not Found: /favicon.ico
WARNING 2025-04-23 22:45:56,715 log Bad Request: /app/gpt/transfer/initiate/
WARNING 2025-04-23 22:45:56,823 log Not Found: /favicon.ico
WARNING 2025-04-24 03:32:34,510 log Bad Request: /app/gpt/transfer/initiate/
WARNING 2025-04-24 03:32:34,676 log Not Found: /favicon.ico
ERROR 2025-04-24 03:33:12,686 log Internal Server Error: /app/sct/initiate/
WARNING 2025-04-24 03:33:12,770 log Not Found: /favicon.ico
ERROR 2025-04-24 04:50:14,698 log Internal Server Error: /app/sct/initiate/
WARNING 2025-04-24 04:50:14,866 log Not Found: /favicon.ico
ERROR 2025-04-24 04:56:41,788 log Internal Server Error: /app/sct/initiate/
WARNING 2025-04-24 04:56:41,883 log Not Found: /favicon.ico
ERROR 2025-04-24 04:58:45,726 log Internal Server Error: /app/sct/initiate/
WARNING 2025-04-24 04:58:45,833 log Not Found: /favicon.ico
ERROR 2025-04-24 04:59:56,018 log Internal Server Error: /app/sct/initiate/
ERROR 2025-04-24 05:08:14,319 log Internal Server Error: /app/sct/initiate/
ERROR 2025-04-24 05:09:06,140 log Internal Server Error: /app/sct/initiate/
ERROR 2025-04-24 05:10:50,426 log Internal Server Error: /app/sct/initiate/
WARNING 2025-04-24 05:12:03,660 log Bad Request: /app/sct/initiate/
WARNING 2025-04-24 05:12:44,929 log Method Not Allowed (POST): /app/sct/delete/9a2286f3-780b-40d2-bcd9-7d47593a50d2/
WARNING 2025-04-24 05:20:28,450 log Method Not Allowed (POST): /app/sct/delete/9a2286f3-780b-40d2-bcd9-7d47593a50d2/
WARNING 2025-04-24 05:29:38,270 log Bad Request: /app/sct/initiate/
WARNING 2025-04-24 05:29:38,386 log Not Found: /favicon.ico
WARNING 2025-04-24 05:29:55,377 log Method Not Allowed (GET): /app/sct/delete/70a84fe3-d967-403a-b5a4-46f1c47e2f66/
ERROR 2025-04-24 05:30:38,543 middleware Error en /app/sct/generate-pdf/70a84fe3-d967-403a-b5a4-46f1c47e2f66/: 'SepaCreditTransfer' object has no attribute 'creditor_name'
Traceback (most recent call last):
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/markmur88/Documentos/GitHub/api_bank_heroku/api/sct/process_xml_send2.py", line 503, in generate_transfer_pdf
    pdf_path = generar_pdf_transferencia(transfer)
  File "/home/markmur88/Documentos/GitHub/api_bank_heroku/api/sct/generate_pdf.py", line 16, in generar_pdf_transferencia
    creditor_name = transfers.creditor_name.replace(" ", "_")
                    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SepaCreditTransfer' object has no attribute 'creditor_name'. Did you mean: 'creditor_agent'?
ERROR 2025-04-24 05:30:38,574 log Internal Server Error: /app/sct/generate-pdf/70a84fe3-d967-403a-b5a4-46f1c47e2f66/
Traceback (most recent call last):
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/markmur88/Documentos/GitHub/api_bank_heroku/api/sct/process_xml_send2.py", line 503, in generate_transfer_pdf
    pdf_path = generar_pdf_transferencia(transfer)
  File "/home/markmur88/Documentos/GitHub/api_bank_heroku/api/sct/generate_pdf.py", line 16, in generar_pdf_transferencia
    creditor_name = transfers.creditor_name.replace(" ", "_")
                    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SepaCreditTransfer' object has no attribute 'creditor_name'. Did you mean: 'creditor_agent'?
ERROR 2025-04-24 05:56:22,324 middleware Error en /app/sct/status/70a84fe3-d967-403a-b5a4-46f1c47e2f66/: cannot access local variable 'transfer' where it is not associated with a value
Traceback (most recent call last):
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/shortcuts.py", line 90, in get_object_or_404
    return queryset.get(*args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/db/models/query.py", line 633, in get
    raise self.model.DoesNotExist(
        "%s matching query does not exist." % self.model._meta.object_name
    )
api.sct.models.SepaCreditTransfer.DoesNotExist: SepaCreditTransfer matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/markmur88/Documentos/GitHub/api_bank_heroku/api/sct/process_xml_send2.py", line 330, in check_transfer_status
    transfer = get_object_or_404(SepaCreditTransfer, payment_id=payment_id)
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/shortcuts.py", line 92, in get_object_or_404
    raise Http404(
        "No %s matches the given query." % queryset.model._meta.object_name
    )
django.http.response.Http404: No SepaCreditTransfer matches the given query.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/markmur88/Documentos/GitHub/api_bank_heroku/api/sct/process_xml_send2.py", line 361, in check_transfer_status
    'transfer': transfer,
                ^^^^^^^^
UnboundLocalError: cannot access local variable 'transfer' where it is not associated with a value
ERROR 2025-04-24 05:56:22,336 log Internal Server Error: /app/sct/status/70a84fe3-d967-403a-b5a4-46f1c47e2f66/
Traceback (most recent call last):
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/shortcuts.py", line 90, in get_object_or_404
    return queryset.get(*args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/db/models/query.py", line 633, in get
    raise self.model.DoesNotExist(
        "%s matching query does not exist." % self.model._meta.object_name
    )
api.sct.models.SepaCreditTransfer.DoesNotExist: SepaCreditTransfer matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/markmur88/Documentos/GitHub/api_bank_heroku/api/sct/process_xml_send2.py", line 330, in check_transfer_status
    transfer = get_object_or_404(SepaCreditTransfer, payment_id=payment_id)
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/shortcuts.py", line 92, in get_object_or_404
    raise Http404(
        "No %s matches the given query." % queryset.model._meta.object_name
    )
django.http.response.Http404: No SepaCreditTransfer matches the given query.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/markmur88/Documentos/Entorno/venvAPI/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/markmur88/Documentos/GitHub/api_bank_heroku/api/sct/process_xml_send2.py", line 361, in check_transfer_status
    'transfer': transfer,
                ^^^^^^^^
UnboundLocalError: cannot access local variable 'transfer' where it is not associated with a value
WARNING 2025-04-24 05:56:22,362 log Not Found: /favicon.ico
